"use strict";(self["webpackChunkulbi_project"]=self["webpackChunkulbi_project"]||[]).push([[877],{4526:function(t,e,i){i.d(e,{Z:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"title",class:t.classes},[t._v(t._s(t.title))])},n=[],a=(i(560),{name:"Title",props:{styleTypes:Array,title:String},computed:{classes(){let t=[];return this.styleTypes.length>0&&this.styleTypes.forEach((e=>{t.push(`title_${e}`)})),t}}}),r=a,o=i(1001),l=(0,o.Z)(r,s,n,!1,null,"7cff472a",null),h=l.exports},6877:function(t,e,i){i.r(e),i.d(e,{default:function(){return b}});var s=i(5372),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"blog"},[e("div",{staticClass:"blog__container"},[e("div",{staticClass:"blog__title"},[e("Title",{attrs:{title:"Blog",styleTypes:["main"]}})],1),e("div",{staticClass:"blog__posts"},[t._l(t.getPosts,(function(t){return e("div",{key:t.title,staticClass:"blog__post"},[e("router-link",{attrs:{to:{name:"post",params:{id:t.id}}}},[e("PostPreview",{attrs:{post:t}})],1)],1)})),e("div",{staticClass:"blog__pagination"},[e(s.Z,{attrs:{length:t.getPaginationLength,"total-visible":"10","prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right"},on:{input:t.changeRoute},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],2)])])},a=[],r=(i(560),i(4526)),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"post-preview"},[e("div",{staticClass:"post-preview__title"},[t._v(t._s(t.post.title))]),e("div",{staticClass:"post-preview__image-container"},[e("img",{staticClass:"post-preview__image",attrs:{src:t.post.photo_url,alt:""}})]),e("div",{staticClass:"post-preview__info"},[e("p",{staticClass:"post-preview__info-row"},[e("span",{staticClass:"post-preview__info-title"},[t._v("Создан: ")]),e("span",{staticClass:"post-preview__info-content"},[t._v(t._s(t.setFormattedDate(t.post.created_at)))])]),e("p",{staticClass:"post-preview__info-row"},[e("span",{staticClass:"post-preview__info-title"},[t._v("Обновлен: ")]),e("span",{staticClass:"post-preview__info-content"},[t._v(t._s(t.setFormattedDate(t.post.updated_at)))])]),e("p",{staticClass:"post-preview__info-row"},[e("span",{staticClass:"post-preview__info-title"},[t._v("Категория: ")]),e("span",{staticClass:"post-preview__info-content post-preview__info-content_category",style:t.getCategoryStyle(t.getCategories,t.post.category)},[t._v(t._s(t.post.category))])])])])},l=[],h=i(3364),c=i(4906),u={name:"PostPreview",props:{post:Object},mixins:[h.G,c.M],computed:{getCategories(){return this.$store.getters.GET_CATEGORIES}}},p=u,g=i(1001),d=(0,g.Z)(p,o,l,!1,null,"09195c59",null),v=d.exports,m={Name:"Blog",components:{Title:r.Z,PostPreview:v},mounted(){this.setCurrentPage(),this.fetchPosts()},data(){return{perPage:9,currentPage:1}},computed:{getPosts(){return this.$store.getters.GET_POSTS},getPaginationLength(){let t=this.$store.getters.GET_TOTAL_POSTS;return Math.ceil(t/this.perPage)},getFetchParams(){return{offset:(this.currentPage-1)*this.perPage,limit:this.perPage}}},methods:{fetchPosts(){this.$store.dispatch("fetchPosts",[this.getFetchParams.offset,this.getFetchParams.limit])},changeRoute(){this.fetchPosts(),this.$route.params.page!==this.currentPage&&this.$router.push({name:"blog",params:{page:this.currentPage}})},setCurrentPage(){this.$route.params.page&&(this.currentPage=+this.$route.params.page)}}},f=m,_=(0,g.Z)(f,n,a,!1,null,"ec220d8a",null),b=_.exports},7131:function(t,e,i){i.d(e,{Z:function(){return v}});i(560);var s,n=i(2500),a=i(6878),r=i(4338),o=i(6669),l=i(5352),h=i(144),c=i(7678);function u(t){return["fas","far","fal","fab","fad","fak"].some((e=>t.includes(e)))}function p(t){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4}(function(t){t["xSmall"]="12px",t["small"]="16px",t["default"]="24px",t["medium"]="28px",t["large"]="36px",t["xLarge"]="40px"})(s||(s={}));const g=(0,c.Z)(n.Z,a.Z,r.Z,o.Z).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium(){return!1},hasClickListener(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon(){let t="";return this.$slots.default&&(t=this.$slots.default[0].text.trim()),(0,l.RB)(this,t)},getSize(){const t={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},e=(0,l.XP)(t).find((e=>t[e]));return e&&s[e]||(0,l.kb)(this.size)},getDefaultData(){return{staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:{"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0,...this.attrs$},on:this.listeners$}},getSvgWrapperData(){const t=this.getSize(),e={...this.getDefaultData(),style:t?{fontSize:t,height:t,width:t}:void 0};return this.applyColors(e),e},applyColors(t){t.class={...t.class,...this.themeClasses},this.setTextColor(this.color,t)},renderFontIcon(t,e){const i=[],s=this.getDefaultData();let n="material-icons";const a=t.indexOf("-"),r=a<=-1;r?i.push(t):(n=t.slice(0,a),u(n)&&(n="")),s.class[n]=!0,s.class[t]=!r;const o=this.getSize();return o&&(s.style={fontSize:o}),this.applyColors(s),e(this.hasClickListener?"button":this.tag,s,i)},renderSvgIcon(t,e){const i={class:"v-icon__svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":!0}},s=this.getSize();return s&&(i.style={fontSize:s,height:s,width:s}),e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e("svg",i,[e("path",{attrs:{d:t}})])])},renderSvgIconComponent(t,e){const i={class:{"v-icon__component":!0}},s=this.getSize();s&&(i.style={fontSize:s,height:s,width:s}),this.applyColors(i);const n=t.component;return i.props=t.props,i.nativeOn=i.on,e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e(n,i)])}},render(t){const e=this.getIcon();return"string"===typeof e?p(e)?this.renderSvgIcon(e,t):this.renderFontIcon(e,t):this.renderSvgIconComponent(e,t)}});var d=h.ZP.extend({name:"v-icon",$_wrapperFor:g,functional:!0,render(t,{data:e,children:i}){let s="";return e.domProps&&(s=e.domProps.textContent||e.domProps.innerHTML||s,delete e.domProps.textContent,delete e.domProps.innerHTML),t(g,e,s?[s]:i)}}),v=d},5372:function(t,e,i){i.d(e,{Z:function(){return h}});i(560);var s=i(7131),n=i(6746),a=i(6878),r=i(7756),o=i(6669),l=i(7678),h=(0,l.Z)(a.Z,(0,r.Z)({onVisible:["init"]}),o.Z).extend({name:"v-pagination",directives:{Resize:n.Z},props:{circle:Boolean,disabled:Boolean,navigationColor:String,navigationTextColor:String,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const i=e%2===0?1:0,s=Math.floor(e/2),n=this.length-s+1+i;if(this.value>s&&this.value<n){const t=1,e=this.length,n=this.value-s+2,a=this.value+s-2-i,r=n-1===t+1?2:"...",o=a+1===e-1?a+1:"...";return[1,r,...this.range(n,a),o,this.length]}if(this.value===s){const t=this.value+s-1-i;return[...this.range(1,t),"...",this.length]}if(this.value===n){const t=this.value-s+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,s),"...",...this.range(n,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((()=>this.selected=this.value),100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const i=[];t=t>0?t:1;for(let s=t;s<=e;s++)i.push(s);return i},genIcon(t,e,i,n,a){return t("li",[t("button",this.setBackgroundColor(this.navigationColor,{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":i},attrs:{disabled:i,type:"button","aria-label":a},on:i?{}:{click:n}}),[t(s.Z,{props:{color:this.navigationTextColor}},[e])])])},genItem(t,e){const i=e===this.value&&(this.color||"primary"),s=e===this.value,n=s?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":s,"aria-label":this.$vuetify.lang.t(n,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map(((e,i)=>t("li",{key:i},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)])))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},6746:function(t,e,i){function s(t,e,i){const s=e.value,n=e.options||{passive:!0};window.addEventListener("resize",s,n),t._onResize=Object(t._onResize),t._onResize[i.context._uid]={callback:s,options:n},e.modifiers&&e.modifiers.quiet||s()}function n(t,e,i){var s;if(!(null===(s=t._onResize)||void 0===s?void 0:s[i.context._uid]))return;const{callback:n,options:a}=t._onResize[i.context._uid];window.removeEventListener("resize",n,a),delete t._onResize[i.context._uid]}const a={inserted:s,unbind:n};e.Z=a},2500:function(t,e,i){var s=i(144);function n(t){return function(e,i){for(const s in i)Object.prototype.hasOwnProperty.call(e,s)||this.$delete(this.$data[t],s);for(const s in e)this.$set(this.$data[t],s,e[s])}}e.Z=s.ZP.extend({data:()=>({attrs$:{},listeners$:{}}),created(){this.$watch("$attrs",n("attrs$"),{immediate:!0}),this.$watch("$listeners",n("listeners$"),{immediate:!0})}})},7756:function(t,e,i){i.d(e,{Z:function(){return r}});var s=i(6750),n=i(4101),a=i(144);function r(t){return a.ZP.extend({name:"intersectable",data:()=>({isIntersecting:!1}),mounted(){s.Z.inserted(this.$el,{name:"intersect",value:this.onObserve},this.$vnode)},destroyed(){s.Z.unbind(this.$el,{name:"intersect",value:this.onObserve},this.$vnode)},methods:{onObserve(e,i,s){if(this.isIntersecting=s,s)for(let a=0,r=t.onVisible.length;a<r;a++){const e=this[t.onVisible[a]];"function"!==typeof e?(0,n.Kd)(t.onVisible[a]+" method is not available on the instance but referenced in intersectable mixin options"):e()}}}})}},4338:function(t,e,i){var s=i(144);e.Z=s.ZP.extend({name:"sizeable",props:{large:Boolean,small:Boolean,xLarge:Boolean,xSmall:Boolean},computed:{medium(){return Boolean(!this.xSmall&&!this.small&&!this.large&&!this.xLarge)},sizeableClasses(){return{"v-size--x-small":this.xSmall,"v-size--small":this.small,"v-size--default":this.medium,"v-size--large":this.large,"v-size--x-large":this.xLarge}}}})},4906:function(t,e,i){i.d(e,{M:function(){return s}});const s={methods:{getCategoryStyle(t,e){let i={};for(let s in t)s===e&&(i.color=t[s]);return i}}}},3364:function(t,e,i){i.d(e,{G:function(){return s}});const s={methods:{setFormattedDate(t){let e=new Date(t);if(isNaN(e.getTime()))return"Невозможно установить дату";{const t=e.getFullYear().toString().padStart(2,"0"),i=(e.getMonth()+1).toLocaleString().padStart(2,"0"),s=e.getDate().toLocaleString().padStart(2,"0"),n=e.getHours().toLocaleString().padStart(2,"0"),a=e.getMinutes().toLocaleString().padStart(2,"0"),r=e.getSeconds().toLocaleString().padStart(2,"0");return`${t}-${i}-${s} ${n}:${a}:${r}`}}}}}}]);
//# sourceMappingURL=877.4f090b23.js.map